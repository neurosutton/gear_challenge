{
    "name": "fsl-stats",
    "label": "fsl-stats",
    "description": "This gear returns statistical output for a given NIFTI image.",
    "version": "0.1.0",
    "author": "Analysis Group, FMRIB, Oxford, UK",
    "maintainer": "Brianne Sutton",
    "cite": "",
    "license": "Apache-2.0",
    "url": "https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils",
    "source": "",
    "environment": {"FLYWHEEL": "/flywheel/v0"},
    "custom": {
        "gear-builder": {
            "category": "analysis",
            "image": "neurosutton/fsl-stats:0.1.0",
        },
        "flywheel": {"suite": "FSL"},
    },
    "command": "python3 run.py",
    "config": {
        "lower_threshold": {
            "description": "set lower threshold",
            "optional": true,
            "default": "",
            "type": "number",
            "id": "-l",
        },
        "upper_threshold": {
            "description": "set upper threshold",
            "optional": true,
            "default": "",
            "type": "number",
            "id": "-u",
        },
        "output_nth_percentile": {
            "description": "output nth percentile (n between 0 and 100)",
            "optional": true,
            "default": "",
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "id": "-p",
        },
        "output_nth_percentile_nonzero": {
            "description": "output nth percentile (for nonzero voxels)",
            "optional": true,
            "default": "",
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "id": "-P",
        },
        "output_nbins_histogram": {
            "description": "nbins for output a histogram (for the thresholded/masked voxels only) with nbins",
            "optional": true,
            "default": "",
            "type": "number",
            "minimum": 1,
            "maximum": 100,
            "id": "-fsl_h",
        },
        "output_nbins_minMax_histogram": {
            "description": "nbins, min, and max for output a histogram (for the thresholded/masked voxels only)\nwith nbins and histogram limits of min and max",
            "optional": true,
            "default": "",
            "type": "string",
            "enum": ["text"],
            "id": "-H",
        },
        "additional_stats": {
            "description": "Choose any combination of statistical output. Valid options include\n[-r, -R, -e, -E, -v, -m, -M, -s, -S, -w, -x , -X, -c , -C, -a, -n]\n-r           : output <robust min intensity> <robust max intensity>\n-R           : output <min intensity> <max intensity>\n-e           : output mean entropy ; mean(-i*ln(i))\n-E           : output mean entropy (of nonzero voxels)\n-v           : output <voxels> <volume>\n-V           : output <voxels> <volume> (for nonzero voxels)\n-m           : output mean\n-M           : output mean (for nonzero voxels)\n-s           : output standard deviation\n-S           : output standard deviation (for nonzero voxels)\n-w           : output smallest ROI <xmin> <xsize> <ymin> <ysize> <zmin> <zsize> <tmin> <tsize>\n containing nonzero voxels\n-x           : output co-ordinates of maximum voxel\n-X           : output co-ordinates of minimum voxel\n-c           : output centre-of-gravity (cog) in mm coordinates\n-C           : output centre-of-gravity (cog) in voxel coordinates\n-a           : use absolute values of all image intensities\n-n           : treat NaN or Inf as zero for subsequent stats",
            "optional": true,
            "default": "",
            "type": "string",
            "enum": [
                "",
                "-r",
                "-R",
                "-e",
                "-E",
                "-v",
                "-m",
                "-M",
                "-s",
                "-S",
                "-w",
                "-x ",
                "-X",
                "-c ",
                "-C",
                "-a",
                "-n ",
            ],
        },
    },
    "inputs": {
        "input_image": {
            "description": "Main image for which stats will be generated",
            "base": "file",
            "type": {"enum": ["nifti"]},
        },
        "mask_image": {
            "description": "(-k): use the specified image (filename) for masking - overrides lower and upper thresholds",
            "optional": true,
            "base": "file",
            "type": {"enum": ["nifti"]},
        },
        "difference_image": {
            "description": "(-d): take the difference between the base image and the image specified here",
            "optional": true,
            "base": "file",
            "type": {"enum": ["nifti"]},
        },
    },
}
